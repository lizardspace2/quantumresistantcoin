version: '3'
services:
  explorer-node:
    build: .
    restart: always
    ports:
      - "3001:3001"
      - "6001:6001"
    environment:
      - HTTP_PORT=3001
      - P2P_PORT=6001
      - SAFE_MODE=true
    deploy:
      resources:
        limits:
          memory: 600M
    volumes:
      # We intentionally DO NOT mount the wallet directory to avoid using the user's private key.
      # The node will generate a temporary key for this session (which is fine for a read-only node).
      # If persistence is needed for the peer list, we can mount data but exclude wallet.
      - ./data:/app/data
